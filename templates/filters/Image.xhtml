<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:xt="http://ns.inria.org/xtiger" xml:lang="en">
  <head>                  
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

    <title>The "image" filter</title>

    <xt:head version="1.1" templateVersion="1.0" label="Demo">
    </xt:head>  
    
    <style type="text/css">
      div.image, input.image {
        border: 1px solid gray; 
        padding: 2px;         
        margin: 20px;
        text-align: center;
        vertical-align: middle;
      } 
      div.grid {
        position: relative;
      }
      div.cell {
        float: left;
        padding: 0 20px 20px 0;
        width: 400px;
      }
      div.image > img {
        max-width: 330px;
      }
    </style>

    <!-- template enrichment : extracts and generates xt:attribute and xt:use sample code -->
    <link rel="stylesheet" type="text/css" href="../shared/demo.css" />
    <script type="text/javascript" src="../../3rd-part/jquery/js/jquery-1.7.2.min.js">//</script>
    <script type="text/javascript" src="../shared/demo.js">//</script>
  </head>
  <body>
    <p class="warning">You must have a live Internet connection to actually see some of the images.</p>

    <h1>The "image" filter</h1>
    
    <p>The <code>"image"</code> filter interprets the content of a text entry field as an image URL. It shows the image as an <code>img</code> element inside the handler.</p>
    
    <p>The filter is compatible with the "text" plugin.</p>
    
    <h2>Parameters</h2>

    <ul class="parameters">
      <li><var>base</var> (<code>undefined</code>) : optional base URL to be appended to the image URL</li>
      <li><var>image-tag</var> (<code><b>Source</b></code>) : name of the attribute used to serialize the image URL unless <var>image-lang</var> is set</li>
      <li><var>image-lang</var> (<code><b>undefined</b>|html</code>) : if set to <code>html</code> the image URL will be serialized as an <code>&lt;img src="url"/></code> element</li>
      <li><var>image_maxWidth</var> (<code>undefined</code>) : to be documented</li>
      <li><var>image_maxHeight</var> (<code>undefined</code>) : to be documented</li>
      <li><var>image_minWidth</var> (<code>undefined</code>) : to be documented</li>
      <li><var>image_minHeight</var> (<code>undefined</code>) : to be documented</li>
    </ul>

    <h2>Examples</h2>

    <p>The examples also show the use of the <var>handle</var> attribute to generate a <code>div</code> handle instead of the classical <code>span</code> handle generated by the <code>"text"</code> plugin. It also define an <code>image</code> class name with the <var>class</var> parameter. This class name will be set both onto the handle and on the <code>input</code> entry field replacing the handle when editing the image URL. Consequently it can use the CSS selector <code>div.image, input.image</code> to set a border and a padding on both the image and the entry field.</p>
    
    <div class="grid">
      
      <div class="cell">
        <h3>Without default content</h3>
        <div class="demo extract">
          <xt:repeat minOccurs="0" maxOccurs="*" label="Gallery">
            <p>Set an image<xt:menu-marker/></p>
            <xt:use types="text" handle="div" label="Image"
                    param="filter=image;type=input;layout=placed;class=image">click to enter an image file name</xt:use>
          </xt:repeat>
        </div>  
      </div>
      
      <div class="cell">
        <h3>With a default content that points to an image file with an absolute URL</h3>    
        <div class="demo extract">
          <xt:repeat minOccurs="0" maxOccurs="*"  label="Gallery">
            <p>Set an image<xt:menu-marker/></p>
            <xt:use types="text" handle="div" label="Image"
                    param="filter=image;type=input;class=image"
                    >http://farm5.static.flickr.com/4015/4405670097_c6a31114c0.jpg</xt:use>
          </xt:repeat>
        </div>
      </div>
      
      <div class="cell">
        <h3>With a default content that points to an image file with a relative URL and a base URL using a <var>base</var> attribute</h3>    
        <div class="demo extract">
          <xt:repeat minOccurs="0" maxOccurs="*" label="Gallery">
            <p>Set an image <xt:menu-marker/></p>
            <xt:use types="text" handle="div" label="Image"
                    param="filter=image;type=input;class=image;base=../../axel/bundles/repeat/">plus.png</xt:use>
          </xt:repeat>
        </div>  
      </div>
      
      <div class="cell">
        <h3>With max size parameters</h3>
        <div class="demo extract">
          <p>Set an image<xt:menu-marker/></p>
          <xt:use types="text" handle="div" label="Image"
                  param="filter=image;type=input;layout=placed;class=image;image_maxwidth=400;image_minwidth=200">click to enter an image file name</xt:use>
        </div>  
      </div>
      
    </div>
  </body> 
</html>
