<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:xt="http://ns.inria.org/xtiger" xml:lang="en">
<head>                  
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=8;" />
  <title>AXEL Wrapped Set automatic testing</title>
  <xt:head version="1.1" templateVersion="1.0" label="WrappedSet">
    <xt:component name="Letter">
      <xt:use types="text">click to edit a letter</xt:use>
    </xt:component>
    <xt:component name="Number">
      <xt:use types="text">click to edit a number</xt:use>
    </xt:component>
    
  </xt:head>
  <style type="text/css">
  
  /* Common */
  
  body {
    margin: 1em;
  } 
  
  /* Editor zone */
  
  div#editor {
    overflow: auto;
    height: 8em;
  }

  /* Results */
  
  div#results {
    border: solid 1px gray;
    overflow: auto;
  } 
  div#results p, p.result {
    padding: 0;
    margin: 0;
  }
  span.failed {
    color: red;
  }
  span.passed {
    color: green;
  } 
  span.file {
    font-family: Courier, monospace;
    color: brown;
  }
  </style>
  <link rel="stylesheet" href="../../axel/axel.css" type="text/css"/>
  <script type="text/javascript" src="../../3rd-part/jquery/js/jquery-1.7.2.min.js"></script>
  <script type="text/javascript" src="../../axel/axel.js"></script>
  <script type="text/javascript" src="../../src/core/forms.js"></script>
  <script type="text/javascript" src="../../src/core/domdatasource.js"></script>
  <script type="text/javascript" src="../../src/editor/classical/repeat.js"></script>
  <script type="text/javascript" src="../../src/editor/classical/xmlloader.js"></script>
  <script type="text/javascript" src="../../src/core/wrapper.js"></script>
  <script types="text/javascript" src="diff.js"></script>
  <script types="text/javascript" src="assert.js"></script>
  <script types="text/javascript" src="wrappedSet.js"></script>
  <script types="text/javascript"><!--//--><![CDATA[//><!--
    function runTest () {
      var i, logger = createLog(), 
          protocol = [test1, test2, test3, test4, test5, test6, test7],
          FIRST = 1, 
          LAST = 7;
      $axel.setup({ bundlesPath : '../../axel/bundles', tabGroupNavigation: true });
      for (i = FIRST; i <= LAST; i++) {
        window.console.log('--- test' + i);
        (protocol[i-1])(logger);
      }
    }
    xtdom.addEventListener(window,  'load', runTest, false);
//--><!]]></script>
</head>
<body>    
    <h1>AXEL Wrapped Set automatic testing</h1>
  
    <h2>Test 1</h2>
    <div id="editor-test-1" class="editor">
      <p>Editor</p>
    </div>
    <hr/>
    <h2>Test 2</h2>
    <div id="editor-test-2" class="editor">
      <p>Editor</p>
    </div>
    <hr/>
    <h2>Test 3</h2>
    <div id="editor-test-3" class="editor">
      <ul>
        <xt:repeat minOccurs="0" maxOccurs="*" label="Repetition">
          <li><xt:use types="text" label="Item">click to edit an item</xt:use><xt:menu-marker/></li>
        </xt:repeat>
      </ul>
    </div>
    <h2>Test 4</h2>
    <div id="editor-test-4" class="editor">
      <ul>
        <xt:repeat minOccurs="0" maxOccurs="*" pseudoLabel="Item">
          <li><xt:use types="text" label="Item">click to edit an item</xt:use><xt:menu-marker/></li>
        </xt:repeat>
      </ul>
    </div>
    <h2>Test 5</h2>
    <div id="editor-test-5" class="editor">
      <p>Without Label</p>
      <xt:repeat minOccurs="0" maxOccurs="*" pseudoLabel="Letter Number">
        <p><xt:use types="Letter Number"/><xt:menu-marker/></p>
      </xt:repeat>
      <p><xt:use types="text" option="unset" label="Message">click to edit a message</xt:use></p>
      <p>With Label</p>
      <xt:repeat minOccurs="0" maxOccurs="*" label="Repetition">
        <p><xt:use types="Letter Number"/><xt:menu-marker/></p>
      </xt:repeat>
    </div>
    <hr/>
    <h2>Test 6</h2>
    <div id="editor-test-6" class="editor">
      <p>Without Label and minOccurs="1"</p>
      <xt:repeat minOccurs="1" maxOccurs="*" pseudoLabel="Letter Number">
        <p><xt:use types="Letter Number"/><xt:menu-marker/></p>
      </xt:repeat>
      <p><xt:use types="text" option="unset" label="Message">click to edit a message</xt:use></p>
      <p>With Label and minOccurs="1"</p>
      <xt:repeat minOccurs="1" maxOccurs="*" label="Repetition">
        <p><xt:use types="Letter Number"/><xt:menu-marker/></p>
      </xt:repeat>
    </div>
    <hr/>
    <h2>Test 7</h2>
    <div id="editor-test-7" class="editor">
      <p>Two repetitions in sequence</p>
      <p>With Label and minOccurs="1"</p>
      <xt:repeat minOccurs="1" maxOccurs="*" label="Repetition1">
        <p><xt:use types="Letter Number"/><xt:menu-marker/></p>
      </xt:repeat>
      <p>With Label and minOccurs="1"</p>
      <xt:repeat minOccurs="1" maxOccurs="*" label="Repetition2">
        <p><xt:use types="Letter Number"/><xt:menu-marker/></p>
      </xt:repeat>
    </div>
    <hr/>        
    <h2>Tests results</h2>
    <div id="results">
    </div>
</body>
</html>
